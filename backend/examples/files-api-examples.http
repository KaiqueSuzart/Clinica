### Exemplos de API para Arquivos dos Pacientes

### 1. Upload de um arquivo (imagem)
POST http://localhost:3001/files/upload
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="test-image.jpg"
Content-Type: image/jpeg

< ./test-files/test-image.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="patient_id"

1
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="category"

image
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="description"

Foto do sorriso do paciente antes do tratamento
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 2. Upload de um documento
POST http://localhost:3001/files/upload
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="exame.pdf"
Content-Type: application/pdf

< ./test-files/exame.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="patient_id"

1
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="category"

document
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="description"

Resultado do exame de sangue
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 3. Buscar todos os arquivos de um paciente
GET http://localhost:3001/files/patient/1

### 4. Buscar arquivos por categoria
GET http://localhost:3001/files/patient/1/category/image

### 5. Buscar estatísticas de arquivos do paciente
GET http://localhost:3001/files/patient/1/stats

### 6. Buscar um arquivo específico
GET http://localhost:3001/files/{{file_id}}

### 7. Atualizar descrição de um arquivo
PATCH http://localhost:3001/files/{{file_id}}
Content-Type: application/json

{
  "description": "Nova descrição do arquivo"
}

### 8. Excluir um arquivo
DELETE http://localhost:3001/files/{{file_id}}

### Notas:
# - Substitua {{file_id}} pelo ID real do arquivo
# - Substitua patient_id pelo ID real do paciente
# - Tipos de categoria suportados: image, document, xray, report
# - Tamanho máximo: 10MB
# - Formatos suportados:
#   - Imagens: JPEG, PNG, GIF, WebP
#   - Documentos: PDF, DOC, DOCX, TXT
# - Os arquivos são armazenados no Supabase Storage
# - As URLs públicas são geradas automaticamente
